<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/main_layout}">

<head>
<title layout:title-pattern="$CONTENT_TITLE - DropWin">홈</title> <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="apple-touch-icon" href="img/apple-icon.png">
<link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico">

<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/templatemo.css">
<link rel="stylesheet" href="css/custom.css">
<link rel="stylesheet" href="css/chatbot.css">

<!-- Load fonts style after rendering the layout styles -->
<link rel="stylesheet"
	href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;200;300;400;500;700;900&display=swap">
<link rel="stylesheet" th:href="@{/css/fontawesome.min.css}">

<script src="https://kit.fontawesome.com/47be2e00b6.js"
	crossorigin="anonymous"></script>
	
<style>
  	#chatbot-button {
	    position: fixed;
	    bottom: 20px;
	    right: 20px;
	    z-index: 1001;
	    padding: 12px 16px;
	    background-color: white;     /* 배경색: 흰색으로 변경 */
	    color: black;                /* 텍스트 색상: 검정으로 변경 */
	    border: 1px solid black;     /* 검은색 선 추가 */
	    border-radius: 30px;
	    font-size: 16px;
	    cursor: pointer;
	    transition: background-color 0.3s ease;
	}

	#chatbot-button:hover {
    	background-color: #e0e0e0; /* 밝은 회색으로 변화 */
	}

</style>
	

</head>

<body>
	<th:block layout:fragment="content">
		<div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
			<ol class="carousel-indicators">
				<li data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active"></li>
				<li data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"></li>
				<li data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"></li>
			</ol>

			<div class="carousel-inner">
				<div class="carousel-item active">
					<img th:src="@{/img/001.png}" class="d-block w-100" alt="배너1">
				</div>

				<div class="carousel-item">
					<img th:src="@{/img/002.png}" class="d-block w-100" alt="배너2">
				</div>

				<div class="carousel-item">
					<img th:src="@{/img/003.png}" class="d-block w-100" alt="배너3">
				</div>
			</div>

			<button class="carousel-control-prev" type="button"
				data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
				<span class="carousel-control-prev-icon" aria-hidden="true"></span>
				<span class="visually-hidden">이전</span>
			</button>
			<button class="carousel-control-next" type="button"
				data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
				<span class="carousel-control-next-icon" aria-hidden="true"></span>
				<span class="visually-hidden">다음</span>
			</button>
		</div>
		<section class="container py-5">
			<div class="row text-center pt-5 pb-3">
				<div class="col-lg-6 m-auto">
					<h1 class="h2 fw-semibold">카테고리</h1>
					<p></p>
				</div>
			</div>

			<div class="row justify-content-center align-items-center"
				style="gap: 2rem;">

				<div class="col-auto">
					<a th:href="@{/shop(category='soccer')}"
						class="text-decoration-none text-dark">
						<div class="services-icon-wap shadow">
							<div class="h1  text-center">
								<i class="fa-solid fa-futbol"></i>
							</div>
							<h2 class="h5 mt-3 text-center">축구</h2>
						</div>
					</a>
				</div>

				<div class="col-auto">
					<a th:href="@{/shop(category='basket-ball')}"
						class="text-decoration-none text-dark">
						<div class="services-icon-wap shadow">
							<div class="h1  text-center">
								<i class="fa-solid fa-basketball"></i>
							</div>
							<h2 class="h5 mt-3 text-center">농구</h2>
						</div>
					</a>
				</div>

				<div class="col-auto">
					<a th:href="@{/shop(category='base-ball')}"
						class="text-decoration-none text-dark">
						<div class="services-icon-wap shadow">
							<div class="h1  text-center">
								<i class="fa-solid fa-baseball"></i>
							</div>
							<h2 class="h5 mt-3 text-center">야구</h2>
						</div>
					</a>
				</div>

				<div class="col-auto">
					<a th:href="@{/shop(category='golf')}"
						class="text-decoration-none text-dark">
						<div class="services-icon-wap shadow">
							<div class="h1  text-center">
								<i class="fa-solid fa-golf-ball-tee"></i>
							</div>
							<h2 class="h5 mt-3 text-center">골프</h2>
						</div>
					</a>
				</div>

				<div class="col-auto">
					<a th:href="@{/shop(category='running')}"
						class="text-decoration-none text-dark">
						<div class="services-icon-wap shadow">
							<div class="h1  text-center">
								<i class="fa-solid fa-person-running"></i>
							</div>
							<h2 class="h5 mt-3 text-center">러닝</h2>
						</div>
					</a>
				</div>

				<div class="col-auto">
					<a th:href="@{/shop(category='pingpong')}"
						class="text-decoration-none text-dark">
						<div class="services-icon-wap shadow">
							<div class="h1  text-center">
								<i class="fa-solid fa-table-tennis-paddle-ball"></i>
							</div>
							<h2 class="h5 mt-3 text-center">탁구</h2>
						</div>
					</a>
				</div>

				<div class="col-auto">
					<a th:href="@{/shop(category='swim')}"
						class="text-decoration-none text-dark">
						<div class="services-icon-wap shadow">
							<div class="h1  text-center">
								<i class="fa-solid fa-person-swimming"></i>
							</div>
							<h2 class="h5 mt-3 text-center">수영</h2>
						</div>
					</a>
				</div>

			</div>
		</section>

		<!-- 💬 버튼 (오른쪽 하단 고정) -->
		<button id="chatbot-button" onclick="document.getElementById('chatModal').style.display='block'">
			<img src="img/bot.png" alt="챗봇 아이콘" style="width: 30px; height: 30px;" />
		</button>
		
		<!-- 💬 모달 (오른쪽 하단 고정) -->
		<div id="chatModal"
		    style="display: none; position: fixed; bottom: 80px; right: 20px; width: 400px; height: 600px; background: #fff; border: 1px solid #ccc; border-radius: 10px; z-index: 1000; box-shadow: 0 8px 16px rgba(0,0,0,0.3); overflow: hidden;">
		
		    <!-- 닫기 버튼 -->
		    <button onclick="document.getElementById('chatModal').style.display='none'"
		        style="position: absolute; top: 10px; right: 10px; background: #333333; color: white; border: none; padding: 8px 16px; font-size: 12px; border-radius: 5px; cursor: pointer; z-index: 1001;">
		        닫기
		    </button>
		
		    <!-- 💬 iframe 챗봇 -->
		    <iframe src="https://734194bf9f28.ngrok-free.app" width="100%" height="100%" style="border: none;"></iframe>
		</div>

		<section class="bg-light">
			<div class="container py-5">
				<div class="row text-center py-3">
					<div class="col-lg-6 m-auto">
						<h1 class="h1">BEST 상품</h1>
					</div>
				</div>
				<div class="container">
					<div
						class="row row-cols-5 g-3 justify-content-center custom-product-grid">
						<th:block th:if="${#lists.isEmpty(bestItems)}">
							<div class="col-12 text-center py-3">
								<p class="text-muted fs-6">현재 BEST 경매물품이 없습니다.</p>
							</div>
						</th:block>
						<th:block th:unless="${#lists.isEmpty(bestItems)}">
							<div class="col mb-4" th:each="item : ${bestItems}">
								<div class="card h-100">
									<a th:href="@{/item/{itemId}(itemId=${item.id})}"> <img
										class="card-img-top"
										th:src="${#lists.isEmpty(item.imagePathList) ? '/img/default-item.png' : '/auction_uploads/' + item.imagePathList.get(0)}"
										th:alt="${item.name}">
									</a>
									<div class="card-body">
										<ul
											class="list-unstyled d-flex justify-content-between custom-star-list">
											<li class="text-muted text-right custom-price"
												th:text="${#numbers.formatInteger(item.currentPrice ?: item.startPrice, 0, 'COMMA') + '원'}"></li>
										</ul>
										<a th:href="@{/item/{itemId}(itemId=${item.id})}"
											class="h3 text-decoration-none text-dark custom-product-title fw-semibold"
											style="font-size: 16px;" th:text="${item.name}"> </a>
										<div style="height: 10px;"></div>
										<p class="card-text custom-product-description"
											style="font-size: 13px; color: gray;">
											<span th:text="${'입찰 ' + item.bidCount + ' 회'}"></span> · <span th:text="${#temporals.format(item.endTime, 'yyyy.MM.dd HH:mm')}"></span><br>
											판매자 <strong style="color: #8a2be2;"
												th:text="${item.sellerName}"></strong> <i
												class="bi bi-patch-check-fill" style="color: #8a2be2;"></i>
										</p>
									</div>
								</div>
							</div>
						</th:block>
					</div>
				</div>
			</div>
		</section>
	</th:block>
	<script src="js/jquery-1.11.0.min.js"></script>
	<script src="js/jquery-migrate-1.2.1.min.js"></script>
	<script src="js/bootstrap.bundle.min.js"></script>
	<script src="js/templatemo.js"></script>
	<script src="js/custom.js"></script>
</body>
</html>