<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/main_layout}">

<head>
<title>DropWin - 관심경매</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="apple-touch-icon" th:href="@{/img/apple-icon.png}">
<link rel="shortcut icon" type="image/x-icon"
	th:href="@{/img/favicon.ico}">

<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
<link rel="stylesheet" th:href="@{/css/templatemo.css}">
<link rel="stylesheet" th:href="@{/css/custom.css}">

<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<link rel="stylesheet"
	href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;200;300;400;500;700;900&display=swap">
<link rel="stylesheet" th:href="@{/css/fontawesome.min.css}">

</head>

<body>
	<th:block layout:fragment="content">
		<div class="container py-5">
			<div class="row">
				<div class="col-lg-12">
					<h3 class="pb-4">관심경매 목록</h3>
					<p class="text-muted">총 <span th:text="${favoriteCount}">0</span>개의 관심경매 상품이 있습니다.</p>
					<div class="row">
						<th:block th:if="${#lists.isEmpty(favoriteItems)}">
							<div class="col-12 text-center py-5">
								<p class="text-muted fs-5">관심 상품이 없습니다.</p>
							</div>
						</th:block>
						<th:block th:unless="${#lists.isEmpty(favoriteItems)}">
							<div class="col-md-4" th:each="item : ${favoriteItems}">
								<div class="card mb-4 item-wap rounded-0">
									<div class="card rounded-0">
										<a th:href="@{/item/{itemId}(itemId=${item.id})}"> <img
											class="card-img rounded-0 img-fluid"
											th:src="${item.imagePathList.isEmpty() ? '/img/default-item.png' : '/auction_uploads/' + item.imagePathList.get(0)}"
											th:alt="${item.name}">
										</a>
									</div>
									<div class="card-body p-2">
										<a th:href="@{/item/{itemId}(itemId=${item.id})}"
											class="text-decoration-none text-dark">
											<p class="mb-1 text-truncate" style="font-size: 14px;"
												th:text="${item.name}"></p>
										</a>
										<h5 class="text-dark fw-bold"
											th:text="${#numbers.formatDecimal(item.startPrice, 0, 'COMMA', 0, 'POINT') + ' 원'}"></h5>
											<span class="fw-bold">현재 입찰 가격: </span>
                        					<span class="fw-bold" th:text="${#numbers.formatInteger(item.currentPrice ?: item.startPrice, 0, 'COMMA')} + '원'">80,000원</span>
										<div class="d-flex justify-content-start align-items-center"
											style="font-size: 13px; color: gray;">
											<span class="me-2" th:text="${'입찰 ' + item.bidCount + ' 회'}"></span>
											<i class="bi bi-dot"></i> <span class="ms-2"
												th:text="${#temporals.format(item.endTime, 'yyyy.MM.dd HH:mm')}"></span>
										</div>
										<div style="font-size: 13px; color: #555;">
											판매자 <strong style="color: #8a2be2"
												th:text="${item.sellerName}"></strong> <i
												class="bi bi-patch-check-fill" style="color: #8a2be2;"></i>
										</div>
									</div>
								</div>
							</div>
						</th:block>
					</div>
				</div>
			</div>
		</div>
	</th:block>

	<script th:src="@{/js/jquery-1.11.0.min.js}"></script>
	<script th:src="@{/js/jquery-migrate-1.2.1.min.js}"></script>
	<script th:src="@{/js/bootstrap.bundle.min.js}"></script>
	<script th:src="@{/js/templatemo.js}"></script>
	<script th:src="@{/js/custom.js}"></script>
</body>

</html>
